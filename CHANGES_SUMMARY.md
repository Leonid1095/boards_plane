# üìù –°–≤–æ–¥–∫–∞ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π - PLGames Board

**–î–∞—Ç–∞**: 2024-12-03
**–¶–µ–ª—å**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

---

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 1. Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

#### `docker-compose.yml`
- **–°—Ç—Ä–æ–∫–∞ 47**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø—É—Ç—å –∫ Frontend Dockerfile
  ```yaml
  - dockerfile: packages/frontend/apps/web/Dockerfile
  + dockerfile: ./packages/frontend/apps/web/Dockerfile
  ```

#### `docker-compose.prod.yml`
- **–°—Ç—Ä–æ–∫–∞ 38**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø—É—Ç—å –∫ Frontend Dockerfile
  ```yaml
  - dockerfile: packages/frontend/apps/web/Dockerfile
  + dockerfile: ./packages/frontend/apps/web/Dockerfile
  ```

#### `plgames/packages/frontend/apps/web/Dockerfile`
- **–°—Ç—Ä–æ–∫–∞ 17**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø—É—Ç—å –∫ Caddyfile
  ```dockerfile
  - COPY packages/frontend/apps/web/Caddyfile /etc/caddy/Caddyfile
  + COPY ./packages/frontend/apps/web/Caddyfile /etc/caddy/Caddyfile
  ```

---

## ‚ûï –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã

### –°–∫—Ä–∏–ø—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

#### `install-fixed.sh` ‚≠ê (–Ω–æ–≤—ã–π)
**–†–∞–∑–º–µ—Ä**: 13 KB
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–ª—É—á—à–µ–Ω–Ω—ã–π —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π:
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏
- ‚úÖ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞ —Ä–µ–∂–∏–º–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è .env
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∏ –¥–∏—Å–∫–æ–≤–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞
- ‚úÖ Health checks –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
```bash
bash install-fixed.sh
```

#### `restart.sh` ‚≠ê (–Ω–æ–≤—ã–π)
**–†–∞–∑–º–µ—Ä**: 6.4 KB
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–∫—Ä–∏–ø—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞–º–∏

**–ö–æ–º–∞–Ω–¥—ã**:
- `status` - –°—Ç–∞—Ç—É—Å + health check
- `restart` - –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
- `rebuild` - –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞
- `start` - –ó–∞–ø—É—Å–∫
- `stop` - –û—Å—Ç–∞–Ω–æ–≤–∫–∞
- `logs [service]` - –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
- `cleanup` - –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
```bash
bash restart.sh status
bash restart.sh rebuild
bash restart.sh logs backend
```

---

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

#### `FIXES_DOCUMENTATION.md` (–Ω–æ–≤—ã–π)
**–†–∞–∑–º–µ—Ä**: 15 KB
**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ**:
- –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–æ–±–ª–µ–º
- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
- –ß–µ–∫-–ª–∏—Å—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

#### `SERVER_QUICK_FIX.md` (–Ω–æ–≤—ã–π)
**–†–∞–∑–º–µ—Ä**: 4.8 KB
**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ**:
- –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (3 –≤–∞—Ä–∏–∞–Ω—Ç–∞)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ –æ—à–∏–±–∫–∏
- –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

#### `DEPLOYMENT_GUIDE.md` (–Ω–æ–≤—ã–π)
**–†–∞–∑–º–µ—Ä**: 10 KB
**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ**:
- –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
- –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–∏—Å—Ç–µ–º–µ
- –í–∞—Ä–∏–∞–Ω—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º–∏
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

---

## üóëÔ∏è –£–¥–∞–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- ‚ùå `install.sh` - –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ `install-fixed.sh`
- ‚ùå `install-improved.sh` - –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ `install-fixed.sh`

**–ü—Ä–∏—á–∏–Ω–∞ —É–¥–∞–ª–µ–Ω–∏—è**: –ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø—É—Ç–∞–Ω–∏—Ü—ã –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫ —Å –ø–æ–ª–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π.

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ò–∑–º–µ–Ω–µ–Ω–æ | –î–æ–±–∞–≤–ª–µ–Ω–æ | –£–¥–∞–ª–µ–Ω–æ |
|-----------|----------|-----------|---------|
| Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | 3 —Ñ–∞–π–ª–∞ | 0 | 0 |
| –°–∫—Ä–∏–ø—Ç—ã | 0 | 2 | 2 |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | 0 | 3 | 0 |
| **–í–°–ï–ì–û** | **3** | **5** | **2** |

---

## üéØ –†–µ—à–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

‚ùå **–ü—Ä–æ–±–ª–µ–º–∞ 1**: Invalid package.json in package.json
- Backend –Ω–µ —Å–æ–±–∏—Ä–∞–ª—Å—è –∏–∑-–∑–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø—É—Ç–∏

‚ùå **–ü—Ä–æ–±–ª–µ–º–∞ 2**: lstat /opt/plgames/plgames/packages/frontend/apps: no such file or directory
- Frontend –Ω–µ –Ω–∞—Ö–æ–¥–∏–ª Dockerfile

‚ùå **–ü—Ä–æ–±–ª–µ–º–∞ 3**: –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è /opt/plgames —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ—Ç–º–µ–Ω–µ–Ω–∞
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –±—ã–ª–æ –æ–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É

‚ùå **–ü—Ä–æ–±–ª–µ–º–∞ 4**: –ú–∞–ª–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ: 9GB (—Ç—Ä–µ–±—É–µ—Ç—Å—è 20GB)
- –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–∏ Docker

‚ùå **–ü—Ä–æ–±–ª–µ–º–∞ 5**: –ù–µ—Ç —É–¥–æ–±–Ω–æ–≥–æ —Å–ø–æ—Å–æ–±–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞–º–∏
- –ü—Ä–∏—Ö–æ–¥–∏–ª–æ—Å—å –≤—Ä—É—á–Ω—É—é –∑–∞–ø—É—Å–∫–∞—Ç—å docker compose –∫–æ–º–∞–Ω–¥—ã

---

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

‚úÖ **Backend —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—É—Ç–∏ –≤ docker-compose
‚úÖ **Frontend —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—É—Ç–∏ –∫ Dockerfile –∏ Caddyfile
‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π** - install-fixed.sh —É–º–µ–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞** - —Å–∫—Ä–∏–ø—Ç –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –æ—á–∏—Å—Ç–∏—Ç—å Docker –ø—Ä–∏ –Ω–µ—Ö–≤–∞—Ç–∫–µ –º–µ—Å—Ç–∞
‚úÖ **–ü—Ä–æ—Å—Ç–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** - restart.sh —Å –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏
‚úÖ **Health checks** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

---

## üöÄ –ö–∞–∫ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ Git (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
cd /opt/plgames
git pull origin main
chmod +x install-fixed.sh restart.sh
bash restart.sh rebuild
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤

```bash
cd /opt/plgames

# Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
wget https://raw.githubusercontent.com/Leonid1095/boards_plane/main/docker-compose.yml -O docker-compose.yml
wget https://raw.githubusercontent.com/Leonid1095/boards_plane/main/docker-compose.prod.yml -O docker-compose.prod.yml

# Frontend Dockerfile
wget https://raw.githubusercontent.com/Leonid1095/boards_plane/main/plgames/packages/frontend/apps/web/Dockerfile \
  -O plgames/packages/frontend/apps/web/Dockerfile

# –°–∫—Ä–∏–ø—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
wget https://raw.githubusercontent.com/Leonid1095/boards_plane/main/restart.sh -O restart.sh
wget https://raw.githubusercontent.com/Leonid1095/boards_plane/main/install-fixed.sh -O install-fixed.sh

# –ü—Ä–∞–≤–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
chmod +x restart.sh install-fixed.sh

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞
bash restart.sh rebuild
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–∏—Å—Ç–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
docker compose down -v
rm -rf /opt/plgames

# –ù–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
curl -fsSL https://raw.githubusercontent.com/Leonid1095/boards_plane/main/install-fixed.sh | bash
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è

```bash
# 1. –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
bash restart.sh status

# –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
# ‚úì PostgreSQL: —Ä–∞–±–æ—Ç–∞–µ—Ç
# ‚úì Backend: —Ä–∞–±–æ—Ç–∞–µ—Ç
# ‚úì Frontend: —Ä–∞–±–æ—Ç–∞–µ—Ç

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
curl http://localhost:3010/api/healthz  # Backend
curl http://localhost:8080              # Frontend

# 3. –õ–æ–≥–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
bash restart.sh logs
```

---

## üìö –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

```
/opt/plgames/
‚îú‚îÄ‚îÄ üìÑ .env                          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ üìÑ docker-compose.yml            # ‚úèÔ∏è –ò—Å–ø—Ä–∞–≤–ª–µ–Ω
‚îú‚îÄ‚îÄ üìÑ docker-compose.prod.yml       # ‚úèÔ∏è –ò—Å–ø—Ä–∞–≤–ª–µ–Ω
‚îú‚îÄ‚îÄ üìÑ docker-compose.simple.yml
‚îÇ
‚îú‚îÄ‚îÄ üîß install-fixed.sh              # ‚≠ê –ù–æ–≤—ã–π (–∑–∞–º–µ–Ω—è–µ—Ç install.sh)
‚îú‚îÄ‚îÄ üîß restart.sh                    # ‚≠ê –ù–æ–≤—ã–π (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)
‚îú‚îÄ‚îÄ üîß setup.sh
‚îú‚îÄ‚îÄ üîß quick-start.sh
‚îú‚îÄ‚îÄ üîß ai-update.sh
‚îú‚îÄ‚îÄ üîß commit-changes.sh
‚îÇ
‚îú‚îÄ‚îÄ üìñ DEPLOYMENT_GUIDE.md           # ‚≠ê –ù–æ–≤—ã–π (–ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ)
‚îú‚îÄ‚îÄ üìñ FIXES_DOCUMENTATION.md        # ‚≠ê –ù–æ–≤—ã–π (—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏)
‚îú‚îÄ‚îÄ üìñ SERVER_QUICK_FIX.md           # ‚≠ê –ù–æ–≤—ã–π (–±—ã—Å—Ç—Ä–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è)
‚îú‚îÄ‚îÄ üìñ README.md
‚îú‚îÄ‚îÄ üìñ INSTALL.md
‚îú‚îÄ‚îÄ üìñ CHANGELOG.md
‚îú‚îÄ‚îÄ üìñ PROJECT_AUDIT_REPORT.md
‚îÇ
‚îî‚îÄ‚îÄ plgames/
    ‚îú‚îÄ‚îÄ üìÑ package.json              # ‚úÖ –ö–æ—Ä–Ω–µ–≤–æ–π (–¥–ª—è workspace)
    ‚îú‚îÄ‚îÄ üìÑ Dockerfile.plgames        # Backend
    ‚îî‚îÄ‚îÄ packages/
        ‚îú‚îÄ‚îÄ backend/
        ‚îÇ   ‚îî‚îÄ‚îÄ server/
        ‚îÇ       ‚îî‚îÄ‚îÄ Dockerfile
        ‚îî‚îÄ‚îÄ frontend/
            ‚îî‚îÄ‚îÄ apps/
                ‚îî‚îÄ‚îÄ web/
                    ‚îú‚îÄ‚îÄ Dockerfile   # ‚úèÔ∏è –ò—Å–ø—Ä–∞–≤–ª–µ–Ω
                    ‚îî‚îÄ‚îÄ Caddyfile
```

**–õ–µ–≥–µ–Ω–¥–∞**:
- ‚úèÔ∏è - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω
- ‚≠ê - –ù–æ–≤—ã–π —Ñ–∞–π–ª
- ‚úÖ - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π
- üìÑ - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- üîß - –°–∫—Ä–∏–ø—Ç
- üìñ - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## üîç –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### –ü—Ä–æ–±–ª–µ–º–∞ —Å –ø—É—Ç—è–º–∏ –≤ Docker

**–ö–æ—Ä–µ–Ω—å –ø—Ä–æ–±–ª–µ–º—ã**: Docker Compose –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç –ø—É—Ç–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ `context`, –Ω–æ –±–µ–∑ —è–≤–Ω–æ–≥–æ `./` –≤ –Ω–∞—á–∞–ª–µ –ø—É—Ç–∏, –æ–Ω –∏—Å–∫–∞–ª —Ñ–∞–π–ª—ã –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –º–µ—Å—Ç–µ.

**–ü—Ä–∏–º–µ—Ä**:
```yaml
build:
  context: ./plgames                      # –†–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
  dockerfile: packages/...Dockerfile      # ‚ùå –ò—â–µ—Ç –æ—Ç CWD, –Ω–µ –æ—Ç context
  dockerfile: ./packages/...Dockerfile    # ‚úÖ –ò—â–µ—Ç –æ—Ç context
```

**–ü–æ—á–µ–º—É —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ**: Dockerfile –∫–æ–ø–∏—Ä—É–µ—Ç —Ñ–∞–π–ª—ã –∫–æ–º–∞–Ω–¥–æ–π `COPY`, –∫–æ—Ç–æ—Ä–∞—è —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—É—Ç–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ context. –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø—É—Ç–µ–π –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ –æ—à–∏–±–∫–∞–º:
- Backend: –Ω–µ –Ω–∞—Ö–æ–¥–∏–ª `package.json`
- Frontend: –Ω–µ –Ω–∞—Ö–æ–¥–∏–ª `Caddyfile`

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ .env —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
cat .env

# –û—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
# - DOMAIN
# - BASE_URL
# - DB_PASSWORD
# - –ü–æ—Ä—Ç—ã (FRONTEND_PORT, BACKEND_PORT)
```

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats

# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
# (—É–∂–µ –≤–∫–ª—é—á–µ–Ω —á–µ—Ä–µ–∑ restart: unless-stopped)
```

### 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –±—ç–∫–∞–ø—ã

```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –±—ç–∫–∞–ø–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
cat > /opt/plgames/backup.sh << 'EOF'
#!/bin/bash
BACKUP_DIR="/opt/backups/plgames"
mkdir -p "$BACKUP_DIR"
DATE=$(date +%Y%m%d_%H%M%S)
docker compose exec -T postgres pg_dump -U plgames plgames > "$BACKUP_DIR/db_$DATE.sql"
echo "Backup created: $BACKUP_DIR/db_$DATE.sql"
EOF

chmod +x /opt/plgames/backup.sh

# –î–æ–±–∞–≤—å—Ç–µ –≤ cron –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –±—ç–∫–∞–ø–æ–≤
crontab -e
# –î–æ–±–∞–≤–∏—Ç—å: 0 2 * * * /opt/plgames/backup.sh
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –ø–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é**:
   - [FIXES_DOCUMENTATION.md](FIXES_DOCUMENTATION.md) - —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏
   - [SERVER_QUICK_FIX.md](SERVER_QUICK_FIX.md) - –±—ã—Å—Ç—Ä—ã–µ —Ä–µ—à–µ–Ω–∏—è
   - [DEPLOYMENT_GUIDE.md](DEPLOYMENT_GUIDE.md) - –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

2. **–°–æ–±–µ—Ä–∏—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é**:
   ```bash
   bash restart.sh status > status.log
   bash restart.sh logs > logs.log
   docker compose config > config.log
   ```

3. **–°–æ–∑–¥–∞–π—Ç–µ issue –Ω–∞ GitHub** —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–Ω—ã–º–∏ –ª–æ–≥–∞–º–∏

---

## üéâ –ò—Ç–æ–≥

–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è —Ä–µ—à–µ–Ω—ã! –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

**–ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è**:
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–æ–≤
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –£–¥–æ–±–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ restart.sh
- ‚úÖ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ Health checks –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏**:
1. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSL/HTTPS (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±—ç–∫–∞–ø—ã
5. –ù–∞—á–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ!

---

**–ê–≤—Ç–æ—Ä –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π**: Claude Code AI Assistant
**–î–∞—Ç–∞**: 2024-12-03
**–í–µ—Ä—Å–∏—è**: 1.0
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é
