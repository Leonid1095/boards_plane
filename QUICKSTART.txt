═══════════════════════════════════════════════════════════════════
  PLGames v1.0.0 - Quick Start Guide
═══════════════════════════════════════════════════════════════════

🎉 Проект полностью готов к production развертыванию!

───────────────────────────────────────────────────────────────────
📦 ЧТО СОЗДАНО
───────────────────────────────────────────────────────────────────

✅ Полноценная CRM система:
   • Управление проектами
   • Трекинг задач (Issues)
   • Спринты
   • Комментарии
   • Учет времени
   • GraphQL API

✅ Backend готов к production:
   • NestJS модуль CRM
   • GraphQL resolvers
   • Prisma database models
   • Интеграция с permission system

✅ Deployment оптимизирован для России:
   • Автоопределение региона
   • Зеркала Docker/NPM
   • One-click установка
   • Интерактивный мастер настройки

✅ Полная документация:
   • Русская инструкция по установке
   • English README
   • Deployment checklist
   • API примеры

───────────────────────────────────────────────────────────────────
🚀 БЫСТРЫЙ СТАРТ (3 МИНУТЫ)
───────────────────────────────────────────────────────────────────

1. Подключитесь к серверу:
   ssh user@your-server-ip

2. Клонируйте проект:
   git clone <ваш-репозиторий>
   cd plane
   git submodule update --init --recursive

3. Запустите интерактивную установку:
   chmod +x quick-start.sh
   sudo ./quick-start.sh

   Мастер настройки спросит:
   • Домен (или localhost)
   • AI features (опционально)
   • OAuth Yandex (опционально)

4. Подождите 15-30 минут (первая сборка)

5. Готово! Откройте:
   http://your-server-ip:8080

───────────────────────────────────────────────────────────────────
📁 СТРУКТУРА ФАЙЛОВ
───────────────────────────────────────────────────────────────────

plane/
├── README.md                    - Обзор проекта (English)
├── INSTALL_RU.md               - Полная инструкция (Русский)
├── DEPLOYMENT_CHECKLIST.md     - Чеклист перед деплоем
├── quick-start.sh              - Интерактивная установка
├── deploy_production.sh        - Production деплой
├── .env.example                - Пример конфигурации
├── docker-compose.prod.yml     - Docker конфигурация
└── plgames/                    - Основное приложение
    └── packages/backend/server/src/core/crm/
        ├── crm.module.ts       - CRM модуль
        ├── crm.service.ts      - Бизнес-логика
        ├── crm.resolver.ts     - GraphQL API
        └── types.ts            - TypeScript типы

───────────────────────────────────────────────────────────────────
⚙️ НАСТРОЙКА ПОСЛЕ УСТАНОВКИ
───────────────────────────────────────────────────────────────────

1. Редактировать .env для дополнительных функций:
   nano .env

2. Включить AI (опционально):
   AFFINE_COPILOT_ENABLED=true
   AFFINE_COPILOT_OPENROUTER_API_KEY=ваш_ключ

   Получить ключ: https://openrouter.ai/

3. Настроить OAuth Yandex (опционально):
   OIDC_CLIENT_ID=ваш_client_id
   OIDC_CLIENT_SECRET=ваш_secret

   Создать приложение: https://oauth.yandex.ru/client/new

4. Настроить HTTPS (рекомендуется):
   sudo apt install nginx certbot python3-certbot-nginx

   Подробнее в INSTALL_RU.md

───────────────────────────────────────────────────────────────────
🛠️ УПРАВЛЕНИЕ СИСТЕМОЙ
───────────────────────────────────────────────────────────────────

Просмотр логов:
  docker compose -f docker-compose.prod.yml logs -f

Перезапуск:
  docker compose -f docker-compose.prod.yml restart

Остановка:
  docker compose -f docker-compose.prod.yml down

Обновление:
  ./deploy_production.sh

Бэкап базы данных:
  docker compose -f docker-compose.prod.yml exec postgres \
    pg_dump -U plgames plgames > backup.sql

───────────────────────────────────────────────────────────────────
📊 ДОСТУП К СИСТЕМЕ
───────────────────────────────────────────────────────────────────

После установки доступно:

• Frontend (Web UI):
  http://your-server-ip:8080
  или https://your-domain.com

• Backend API:
  http://your-server-ip:3010/api

• GraphQL Playground:
  http://your-server-ip:3010/graphql

───────────────────────────────────────────────────────────────────
🔧 ПРИМЕР GRAPHQL ЗАПРОСОВ
───────────────────────────────────────────────────────────────────

# Создать проект
mutation {
  createCrmProject(input: {
    name: "Мой Проект"
    key: "PROJ"
    workspaceId: "workspace-id"
  }) {
    id
    name
  }
}

# Получить все проекты
query {
  crmProjectsByWorkspace(workspaceId: "workspace-id") {
    id
    name
    key
    lead {
      name
      email
    }
    issuesCount
  }
}

# Создать задачу
mutation {
  createCrmIssue(input: {
    title: "Исправить баг"
    projectId: "project-id"
    reporterId: "user-id"
    type: BUG
    priority: HIGH
  }) {
    id
    title
  }
}

───────────────────────────────────────────────────────────────────
🇷🇺 ОСОБЕННОСТИ ДЛЯ РОССИИ
───────────────────────────────────────────────────────────────────

Скрипт автоматически:
✅ Определяет регион России
✅ Использует зеркала для Docker
✅ Настраивает альтернативные registries
✅ Оптимизирует таймауты сети
✅ Использует российские CDN

Нет необходимости в VPN для установки!

───────────────────────────────────────────────────────────────────
📚 ДОКУМЕНТАЦИЯ
───────────────────────────────────────────────────────────────────

Читать подробнее:

• README.md              - Обзор и быстрый старт
• INSTALL_RU.md          - Полная инструкция по установке
• DEPLOYMENT_CHECKLIST   - Чеклист для production
• CHANGELOG.md           - История изменений
• PROJECT_SUMMARY.md     - Техническая документация

───────────────────────────────────────────────────────────────────
✅ ЧЕКЛИСТ ГОТОВНОСТИ
───────────────────────────────────────────────────────────────────

Перед деплоем проверьте:

[ ] Сервер соответствует минимальным требованиям
    - 4 GB RAM
    - 20 GB disk
    - External IP

[ ] Домен настроен (опционально)
[ ] SSH доступ работает
[ ] Порты 80, 443, 22 открыты

После деплоя:

[ ] Все контейнеры запущены
[ ] Frontend доступен
[ ] GraphQL API работает
[ ] Создан тестовый проект
[ ] HTTPS настроен (опционально)
[ ] Бэкап настроен

───────────────────────────────────────────────────────────────────
🆘 ПОМОЩЬ
───────────────────────────────────────────────────────────────────

Проблемы при установке?

1. Проверьте логи:
   docker compose -f docker-compose.prod.yml logs

2. Читайте INSTALL_RU.md раздел "Решение проблем"

3. Проверьте:
   - Доступность портов
   - Права доступа (sudo)
   - Место на диске

───────────────────────────────────────────────────────────────────
🎉 ГОТОВО К ЗАПУСКУ!
───────────────────────────────────────────────────────────────────

Версия: 1.0.0
Статус: ✅ Production Ready
Дата: 2024-12-01

Команда для старта:
  sudo ./quick-start.sh

Удачного деплоя! 🚀

═══════════════════════════════════════════════════════════════════
