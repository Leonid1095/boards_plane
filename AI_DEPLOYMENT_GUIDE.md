# ü§ñ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è AI: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ PLGames Board –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

> **–î–ª—è –∫–æ–≥–æ:** –≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –Ω–∞–ø–∏—Å–∞–Ω–∞ –¥–ª—è AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Qwen Coder), –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.
>
> **–ó–∞–¥–∞—á–∞:** –°–∫–∞—á–∞—Ç—å –ø—Ä–æ–µ–∫—Ç PLGames Board —Å GitHub –∏ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –µ–≥–æ –Ω–∞ Linux —Å–µ—Ä–≤–µ—Ä–µ.

---

## üìã –í–ê–ñ–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø –ü–ï–†–ï–î –ù–ê–ß–ê–õ–û–ú

### –ß—Ç–æ —Ç–∞–∫–æ–µ PLGames?
PLGames - —ç—Ç–æ CRM –∏ —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞–º–∏, —Ä–∞–±–æ—Ç–∞—é—â–∞—è –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö. –°–æ—Å—Ç–æ–∏—Ç –∏–∑:
- **Backend** (NestJS + GraphQL) - –ø–æ—Ä—Ç 3010
- **Frontend** (React + Caddy) - –ø–æ—Ä—Ç 8080
- **PostgreSQL** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Redis** - –∫—ç—à

### –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π GitHub:
```
https://github.com/Leonid1095/boards_plane.git
```

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É:
- **–û–°:** Ubuntu 20.04+ –∏–ª–∏ Debian 11+
- **RAM:** –º–∏–Ω–∏–º—É–º 4GB (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 8GB)
- **–î–∏—Å–∫:** –º–∏–Ω–∏–º—É–º 20GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- **–î–æ—Å—Ç—É–ø:** root –∏–ª–∏ sudo –ø—Ä–∞–≤–∞
- **–ü–æ—Ä—Ç—ã:** 80, 443, 22, 3010, 8080 –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç—ã

---

## üéØ –ü–û–®–ê–ì–û–í–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø

### –®–ê–ì 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

#### 1.1. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ —Ç—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å –ø—Ä–∞–≤–∞–º–∏ root/sudo

```bash
# –ü—Ä–æ–≤–µ—Ä—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
whoami

# –ü—Ä–æ–≤–µ—Ä—å –ø—Ä–∞–≤–∞ sudo (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∫–æ–º–∞–Ω–¥–∞ sudo)
which sudo

# –ï—Å–ª–∏ –Ω–µ—Ç sudo –ø—Ä–∞–≤ - –ø–µ—Ä–µ–∫–ª—é—á–∏—Å—å –Ω–∞ root
sudo su
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ö–æ–º–∞–Ω–¥–∞ `whoami` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç root –∏–ª–∏ —Ç–≤–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- –ö–æ–º–∞–Ω–¥–∞ `which sudo` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—É—Ç—å –∫ sudo (–Ω–∞–ø—Ä–∏–º–µ—Ä: /usr/bin/sudo)

#### 1.2. –û–±–Ω–æ–≤–∏ —Å–∏—Å—Ç–µ–º—É

```bash
# –û–±–Ω–æ–≤–∏ —Å–ø–∏—Å–æ–∫ –ø–∞–∫–µ—Ç–æ–≤
apt-get update

# –û–±–Ω–æ–≤–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –≤—Ä–µ–º—è)
apt-get upgrade -y
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ö–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- –í –∫–æ–Ω—Ü–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å "Reading package lists... Done"

#### 1.3. –£—Å—Ç–∞–Ω–æ–≤–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏ git, curl –∏ –¥—Ä—É–≥–∏–µ –±–∞–∑–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
apt-get install -y git curl wget openssl ca-certificates

# –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ git —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
git --version
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- `git --version` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–µ—Ä—Å–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä: git version 2.34.1)

---

### –®–ê–ì 2: –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å GitHub

#### 2.1. –°–æ–∑–¥–∞–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞

```bash
# –°–æ–∑–¥–∞–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
mkdir -p /home/plgames

# –ü–µ—Ä–µ–π–¥–∏ –≤ –Ω–µ—ë
cd /home/plgames
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `/home/plgames` —Å–æ–∑–¥–∞–Ω–∞
- –¢–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: `/home/plgames` (–ø—Ä–æ–≤–µ—Ä—å –∫–æ–º–∞–Ω–¥–æ–π `pwd`)

#### 2.2. –ö–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π –ø—Ä–æ–µ–∫—Ç —Å GitHub
git clone https://github.com/Leonid1095/boards_plane.git

# –ü–µ—Ä–µ–π–¥–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd boards_plane

# –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ —Ñ–∞–π–ª—ã —Å–∫–∞—á–∞–ª–∏—Å—å
ls -la
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –£–≤–∏–¥–∏—à—å —Ñ–∞–π–ª—ã: `README.md`, `docker-compose.prod.yml`, `deploy_production.sh`, –ø–∞–ø–∫—É `plgames/` –∏ –¥—Ä—É–≥–∏–µ

**–í–ê–ñ–ù–û:** –ï—Å–ª–∏ —É–≤–∏–¥–∏—à—å –æ—à–∏–±–∫—É "Authentication failed", –∑–Ω–∞—á–∏—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø—Ä–∏–≤–∞—Ç–Ω—ã–π. –¢–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π —Ç–æ–∫–µ–Ω:
```bash
git clone https://TOKEN@github.com/Leonid1095/boards_plane.git
# –ó–∞–º–µ–Ω–∏ TOKEN –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ GitHub
```

#### 2.3. –ü—Ä–æ–≤–µ—Ä—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞

```bash
# –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –µ—Å—Ç—å –≥–ª–∞–≤–Ω—ã–µ —Ñ–∞–π–ª—ã
test -f docker-compose.prod.yml && echo "‚úÖ docker-compose –Ω–∞–π–¥–µ–Ω" || echo "‚ùå docker-compose –ù–ï –ù–ê–ô–î–ï–ù"
test -f deploy_production.sh && echo "‚úÖ deploy_production.sh –Ω–∞–π–¥–µ–Ω" || echo "‚ùå deploy_production.sh –ù–ï –ù–ê–ô–î–ï–ù"
test -d plgames && echo "‚úÖ –ø–∞–ø–∫–∞ plgames –Ω–∞–π–¥–µ–Ω–∞" || echo "‚ùå –ø–∞–ø–∫–∞ plgames –ù–ï –ù–ê–ô–î–ï–ù–ê"
test -f .env.example && echo "‚úÖ .env.example –Ω–∞–π–¥–µ–Ω" || echo "‚ùå .env.example –ù–ï –ù–ê–ô–î–ï–ù"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í—Å–µ 4 –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑–∞—Ç—å ‚úÖ

**–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ:**
- –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ —Ç—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏: `pwd` (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `/home/plgames/boards_plane`)
- –ü—Ä–æ–≤–µ—Ä—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ: `ls -la`
- –í–æ–∑–º–æ–∂–Ω–æ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å: `git pull origin main`

---

### –®–ê–ì 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

#### 3.1. –ü—Ä–æ–≤–µ—Ä—å IP –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –£–∑–Ω–∞–π –≤–Ω–µ—à–Ω–∏–π IP —Å–µ—Ä–≤–µ—Ä–∞
curl -4 ifconfig.me
echo ""
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç IP –∞–¥—Ä–µ—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä: 192.168.1.100 –∏–ª–∏ 45.67.89.123)
- –ó–∞–ø–æ–º–Ω–∏ —ç—Ç–æ—Ç IP - –æ–Ω –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é

#### 3.2. –°–æ–∑–¥–∞–π .env —Ñ–∞–π–ª

```bash
# –°–∫–æ–ø–∏—Ä—É–π —à–∞–±–ª–æ–Ω
cp .env.example .env

# –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–∞—Ä–æ–ª—å –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
DB_PASS=$(openssl rand -hex 16)
echo "–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å –ë–î: $DB_PASS"

# –£–∑–Ω–∞–π IP —Å–µ—Ä–≤–µ—Ä–∞
SERVER_IP=$(curl -4 -s ifconfig.me)
echo "IP —Å–µ—Ä–≤–µ—Ä–∞: $SERVER_IP"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –§–∞–π–ª `.env` —Å–æ–∑–¥–∞–Ω
- –ü–æ–∫–∞–∑–∞–Ω –ø–∞—Ä–æ–ª—å –ë–î (–Ω–∞–ø—Ä–∏–º–µ—Ä: e794f8ce6c6f114dba884fd5fd9ded90)
- –ü–æ–∫–∞–∑–∞–Ω IP —Å–µ—Ä–≤–µ—Ä–∞

#### 3.3. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π .env —Ñ–∞–π–ª

**–í–ù–ò–ú–ê–ù–ò–ï:** –¢–µ–±–µ –Ω—É–∂–Ω–æ –û–¢–†–ï–î–ê–ö–¢–ò–†–û–í–ê–¢–¨ —Ñ–∞–π–ª .env. –ò—Å–ø–æ–ª—å–∑—É–π nano –∏–ª–∏ vi:

```bash
# –û—Ç–∫—Ä–æ–π —Ñ–∞–π–ª –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ nano
nano .env
```

**–ß—Ç–æ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ —Ñ–∞–π–ª–µ:**

1. –ù–∞–π–¥–∏ —Å—Ç—Ä–æ–∫—É `DB_PASSWORD=change_this_to_secure_password`
2. –ó–∞–º–µ–Ω–∏ `change_this_to_secure_password` –Ω–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å (–∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `$DB_PASS`)
3. –ù–∞–π–¥–∏ —Å—Ç—Ä–æ–∫—É `DATABASE_URL=postgres://plgames:change_this_to_secure_password@postgres:5432/plgames`
4. –ó–∞–º–µ–Ω–∏ `change_this_to_secure_password` –Ω–∞ —Ç–æ—Ç –∂–µ –ø–∞—Ä–æ–ª—å
5. –ù–∞–π–¥–∏ —Å—Ç—Ä–æ–∫—É `DOMAIN=localhost`
6. –ó–∞–º–µ–Ω–∏ `localhost` –Ω–∞ IP —Å–µ—Ä–≤–µ—Ä–∞ (–∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `$SERVER_IP`)
7. –ù–∞–π–¥–∏ —Å—Ç—Ä–æ–∫—É `BASE_URL=http://localhost:8080`
8. –ó–∞–º–µ–Ω–∏ `localhost` –Ω–∞ IP —Å–µ—Ä–≤–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `http://45.67.89.123:8080`)
9. –ù–∞–π–¥–∏ —Å—Ç—Ä–æ–∫—É `AFFINE_SERVER_EXTERNAL_URL=http://localhost:8080`
10. –ó–∞–º–µ–Ω–∏ `localhost` –Ω–∞ IP —Å–µ—Ä–≤–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `http://45.67.89.123:8080`)

**–ü—Ä–∏–º–µ—Ä –∫–∞–∫ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
```env
DB_PASSWORD=e794f8ce6c6f114dba884fd5fd9ded90
DATABASE_URL=postgres://plgames:e794f8ce6c6f114dba884fd5fd9ded90@postgres:5432/plgames
DOMAIN=45.67.89.123
BASE_URL=http://45.67.89.123:8080
AFFINE_SERVER_EXTERNAL_URL=http://45.67.89.123:8080
```

**–ö–∞–∫ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ nano:**
- –ù–∞–∂–º–∏ `Ctrl + O` (—á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å)
- –ù–∞–∂–º–∏ `Enter` (–ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∏–º—è —Ñ–∞–π–ª–∞)
- –ù–∞–∂–º–∏ `Ctrl + X` (–≤—ã–π—Ç–∏ –∏–∑ nano)

**–ò–ª–∏ –º–æ–∂–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–µ—Å–ª–∏ —É–º–µ–µ—à—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å sed):**
```bash
# –ó–∞–º–µ–Ω–∏ –ø–∞—Ä–æ–ª—å –≤ .env
sed -i "s/change_this_to_secure_password/$DB_PASS/g" .env

# –ó–∞–º–µ–Ω–∏ localhost –Ω–∞ IP —Å–µ—Ä–≤–µ—Ä–∞
sed -i "s/localhost/$SERVER_IP/g" .env

# –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–∏–ª–∏—Å—å
grep "DB_PASSWORD" .env
grep "DOMAIN" .env
```

#### 3.4. –ü—Ä–æ–≤–µ—Ä—å .env —Ñ–∞–π–ª

```bash
# –ü–æ–∫–∞–∂–∏ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
grep "DB_PASSWORD" .env
grep "DATABASE_URL" .env
grep "DOMAIN" .env
grep "BASE_URL" .env
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- `DB_PASSWORD` —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–∞—Ä–æ–ª—å (–Ω–µ "change_this_to_secure_password")
- `DATABASE_URL` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ—Ç –∂–µ –ø–∞—Ä–æ–ª—å
- `DOMAIN` —Å–æ–¥–µ—Ä–∂–∏—Ç IP —Å–µ—Ä–≤–µ—Ä–∞ (–Ω–µ localhost)
- `BASE_URL` —Å–æ–¥–µ—Ä–∂–∏—Ç IP —Å–µ—Ä–≤–µ—Ä–∞ (–Ω–µ localhost)

#### 3.5. –£—Å—Ç–∞–Ω–æ–≤–∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø—Ä–∞–≤–∞ –Ω–∞ .env

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏ –ø—Ä–∞–≤–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞
chmod 600 .env

# –ü—Ä–æ–≤–µ—Ä—å –ø—Ä–∞–≤–∞
ls -la .env
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ü—Ä–∞–≤–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å `-rw-------` (600)

---

### –®–ê–ì 4: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker

#### 4.1. –ü—Ä–æ–≤–µ—Ä—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ª–∏ Docker

```bash
# –ü—Ä–æ–≤–µ—Ä—å Docker
which docker

# –ü—Ä–æ–≤–µ—Ä—å Docker Compose
which docker-compose
docker compose version
```

**–ï—Å–ª–∏ Docker –£–ñ–ï —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:**
- `which docker` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—É—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä: /usr/bin/docker)
- `docker compose version` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–µ—Ä—Å–∏—é
- **–ü–ï–†–ï–•–û–î–ò –∫ –®–ê–ì 5**

**–ï—Å–ª–∏ Docker –ù–ï —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:**
- –ö–æ–º–∞–Ω–¥—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –æ—à–∏–±–∫–∏ –∏–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç
- **–ü–†–û–î–û–õ–ñ–ê–ô –®–ê–ì 4.2**

#### 4.2. –ó–∞–ø—É—Å—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏

**–£ –ø—Ä–æ–µ–∫—Ç–∞ –µ—Å—Ç—å –≥–æ—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è. –û–Ω:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç Docker
- –ù–∞—Å—Ç—Ä–æ–∏—Ç –∑–µ—Ä–∫–∞–ª–∞ –¥–ª—è –†–æ—Å—Å–∏–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- –†–∞–∑–≤–µ—Ä–Ω–µ—Ç –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
- –í—ã–ø–æ–ª–Ω–∏—Ç –º–∏–≥—Ä–∞—Ü–∏—é –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –°–¥–µ–ª–∞–π —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x deploy_production.sh

# –ó–∞–ø—É—Å—Ç–∏ —Å–∫—Ä–∏–ø—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
./deploy_production.sh
```

**‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï:** –°–∫—Ä–∏–ø—Ç –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å 15-30 –º–∏–Ω—É—Ç! –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ. –û–Ω –±—É–¥–µ—Ç:
1. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å Docker (5-10 –º–∏–Ω—É—Ç)
2. –°–∫–∞—á–∏–≤–∞—Ç—å –æ–±—Ä–∞–∑—ã Docker (5-10 –º–∏–Ω—É—Ç)
3. –°–æ–±–∏—Ä–∞—Ç—å backend (10-20 –º–∏–Ω—É—Ç - —Å–∞–º–æ–µ –¥–æ–ª–≥–æ–µ)
4. –ó–∞–ø—É—Å–∫–∞—Ç—å —Å–µ—Ä–≤–∏—Å—ã
5. –í—ã–ø–æ–ª–Ω—è—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ë–î

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –°–∫—Ä–∏–ø—Ç –≤—ã–≤–æ–¥–∏—Ç –ª–æ–≥–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞
- –í –∫–æ–Ω—Ü–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
  ```
  ‚úÖ Deployment completed successfully!

  Access your PLGames instance at:
  Frontend: http://YOUR_IP:8080
  Backend API: http://YOUR_IP:3010/api
  GraphQL: http://YOUR_IP:3010/graphql
  ```

**–ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Å –æ—à–∏–±–∫–æ–π:**
- –ü–æ—Å–º–æ—Ç—Ä–∏ –ª–æ–≥–∏: `docker compose -f docker-compose.prod.yml logs`
- –ü–µ—Ä–µ–π–¥–∏ –∫ –®–ê–ì 6 (–†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker)

**–ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —É—Å–ø–µ—à–Ω–æ:**
- **–ü–ï–†–ï–•–û–î–ò –∫ –®–ê–ì 5** (–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è)

---

### –®–ê–ì 5: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å Docker Compose (–µ—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª)

#### 5.1. –ó–∞–ø—É—Å—Ç–∏ Docker Compose

```bash
# –ó–∞–ø—É—Å—Ç–∏ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
docker compose -f docker-compose.prod.yml up -d

# –ü–æ–¥–æ–∂–¥–∏ 2-3 –º–∏–Ω—É—Ç—ã —á—Ç–æ–±—ã —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—Å—Ç–∏–ª–∏—Å—å
```

**‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï:** –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å 15-30 –º–∏–Ω—É—Ç, —Ç–∞–∫ –∫–∞–∫ Docker –±—É–¥–µ—Ç:
1. –°–∫–∞—á–∏–≤–∞—Ç—å –±–∞–∑–æ–≤—ã–µ –æ–±—Ä–∞–∑—ã (postgres, redis, node)
2. –°–æ–±–∏—Ä–∞—Ç—å backend (–∫–æ–º–ø–∏–ª—è—Ü–∏—è TypeScript, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
3. –°–æ–±–∏—Ä–∞—Ç—å frontend

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å—Ç–∏–ª–∞—Å—å –±–µ–∑ –æ—à–∏–±–æ–∫
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç: "Creating plane_backend_1 ... done"
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç: "Creating plane_postgres_1 ... done"

#### 5.2. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—Å—Ç–∏–ª–∏—Å—å

```bash
# –ü–æ–∫–∞–∂–∏ —Å—Ç–∞—Ç—É—Å –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker compose -f docker-compose.prod.yml ps
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
NAME                STATE     PORTS
plane-backend-1     Up        0.0.0.0:3010->3010/tcp
plane-frontend-1    Up        0.0.0.0:8080->8080/tcp
plane-postgres-1    Up        5432/tcp
plane-redis-1       Up        6379/tcp
```

**–í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ —Å—Ç–∞—Ç—É—Å–µ "Up".**

**–ï—Å–ª–∏ –∫–∞–∫–æ–π-—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤ —Å—Ç–∞—Ç—É—Å–µ "Exit" –∏–ª–∏ "Restarting":**
- –ü–æ—Å–º–æ—Ç—Ä–∏ –ª–æ–≥–∏: `docker compose -f docker-compose.prod.yml logs [–∏–º—è-—Å–µ—Ä–≤–∏—Å–∞]`
- –ù–∞–ø—Ä–∏–º–µ—Ä: `docker compose -f docker-compose.prod.yml logs backend`

#### 5.3. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏

```bash
# –ü–æ—Å–º–æ—Ç—Ä–∏ –ª–æ–≥–∏ backend (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫)
docker compose -f docker-compose.prod.yml logs --tail=50 backend

# –ü–æ—Å–º–æ—Ç—Ä–∏ –ª–æ–≥–∏ postgres (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫)
docker compose -f docker-compose.prod.yml logs --tail=50 postgres
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- **Backend:** –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å "Nest application successfully started" –∏–ª–∏ "Server is running on http://0.0.0.0:3010"
- **Postgres:** –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å "database system is ready to accept connections"

**–ï—Å–ª–∏ –≤–∏–¥–∏—à—å –æ—à–∏–±–∫–∏:**
- –°–∫–æ–ø–∏—Ä—É–π –æ—à–∏–±–∫—É –∏ —Å–æ–æ–±—â–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:
  - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –≥–æ—Ç–æ–≤–∞ (–ø–æ–¥–æ–∂–¥–∏ 2-3 –º–∏–Ω—É—Ç—ã)
  - –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π DATABASE_URL –≤ .env
  - –ù–µ—Ö–≤–∞—Ç–∫–∞ –ø–∞–º—è—Ç–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

#### 5.4. –í—ã–ø–æ–ª–Ω–∏ –º–∏–≥—Ä–∞—Ü–∏—é –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –ó–∞–ø—É—Å—Ç–∏ –º–∏–≥—Ä–∞—Ü–∏—é Prisma
docker compose -f docker-compose.prod.yml exec backend sh -c "npx prisma migrate deploy"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –º–∏–≥—Ä–∞—Ü–∏–π
- –í –∫–æ–Ω—Ü–µ: "All migrations have been successfully applied"

**–ï—Å–ª–∏ –æ—à–∏–±–∫–∞ "Container is not running":**
- –ó–Ω–∞—á–∏—Ç backend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å: `docker compose -f docker-compose.prod.yml ps`
- –ü–æ—Å–º–æ—Ç—Ä–∏ –ª–æ–≥–∏: `docker compose -f docker-compose.prod.yml logs backend`

---

### –®–ê–ì 6: –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

**–ò—Å–ø–æ–ª—å–∑—É–π —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏:**
- deploy_production.sh –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª
- Docker –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- –ù—É–∂–Ω–∞ —Ä—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

#### 6.1. –£—Å—Ç–∞–Ω–æ–≤–∏ Docker –Ω–∞ Ubuntu/Debian

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
apt-get install -y apt-transport-https ca-certificates curl gnupg lsb-release

# –î–æ–±–∞–≤—å GPG –∫–ª—é—á Docker
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg

# –î–æ–±–∞–≤—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π Docker
echo "deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" | tee /etc/apt/sources.list.d/docker.list > /dev/null

# –û–±–Ω–æ–≤–∏ —Å–ø–∏—Å–æ–∫ –ø–∞–∫–µ—Ç–æ–≤
apt-get update

# –£—Å—Ç–∞–Ω–æ–≤–∏ Docker
apt-get install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin

# –ó–∞–ø—É—Å—Ç–∏ Docker
systemctl start docker
systemctl enable docker

# –ü—Ä–æ–≤–µ—Ä—å —É—Å—Ç–∞–Ω–æ–≤–∫—É
docker --version
docker compose version
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- `docker --version` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–µ—Ä—Å–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä: Docker version 24.0.7)
- `docker compose version` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–µ—Ä—Å–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä: Docker Compose version v2.23.0)

**–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Docker:**
- –í–µ—Ä–Ω–∏—Å—å –∫ **–®–ê–ì 5** (–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å Docker Compose)

---

### –®–ê–ì 7: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

#### 7.1. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å
docker compose -f docker-compose.prod.yml ps

# –í—Å–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å "Up"
```

#### 7.2. –ü—Ä–æ–≤–µ—Ä—å –ø–æ—Ä—Ç—ã

```bash
# –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –ø–æ—Ä—Ç—ã —Å–ª—É—à–∞—é—Ç
netstat -tlnp | grep 3010
netstat -tlnp | grep 8080

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π ss
ss -tlnp | grep 3010
ss -tlnp | grep 8080
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ü–æ—Ä—Ç 3010 —Å–ª—É—à–∞–µ—Ç (backend)
- –ü–æ—Ä—Ç 8080 —Å–ª—É—à–∞–µ—Ç (frontend)

#### 7.3. –ü—Ä–æ–≤–µ—Ä—å GraphQL API

```bash
# –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ GraphQL –æ—Ç–≤–µ—á–∞–µ—Ç
curl -I http://localhost:3010/graphql
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- HTTP/1.1 400 Bad Request (—ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è GET –∑–∞–ø—Ä–æ—Å–∞ –∫ GraphQL)
- –ò–ª–∏: HTTP/1.1 200 OK

**–ï—Å–ª–∏ Connection refused:**
- Backend –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è
- –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏: `docker compose -f docker-compose.prod.yml logs backend`

#### 7.4. –ü—Ä–æ–≤–µ—Ä—å Frontend

```bash
# –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ frontend –æ—Ç–≤–µ—á–∞–µ—Ç
curl -I http://localhost:8080
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- HTTP/1.1 200 OK
- Content-Type: text/html

#### 7.5. –£–∑–Ω–∞–π URL –¥–ª—è –¥–æ—Å—Ç—É–ø–∞

```bash
# –£–∑–Ω–∞–π IP —Å–µ—Ä–≤–µ—Ä–∞
SERVER_IP=$(curl -4 -s ifconfig.me)

echo ""
echo "=========================================="
echo "‚úÖ PLGames —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç!"
echo "=========================================="
echo ""
echo "–î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é:"
echo "  Frontend: http://$SERVER_IP:8080"
echo "  Backend API: http://$SERVER_IP:3010/api"
echo "  GraphQL: http://$SERVER_IP:3010/graphql"
echo ""
echo "=========================================="
```

**–ü–æ–∫–∞–∂–∏ —ç—Ç–æ—Ç URL –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é!**

---

### –®–ê–ì 8: –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ –æ—Ç—á–µ—Ç

#### 8.1. –°–æ–±–µ—Ä—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–∏

```bash
# –°–æ–∑–¥–∞–π –æ—Ç—á–µ—Ç
echo "=== PLGames Deployment Report ===" > deployment_report.txt
echo "" >> deployment_report.txt
echo "Date: $(date)" >> deployment_report.txt
echo "Server IP: $(curl -4 -s ifconfig.me)" >> deployment_report.txt
echo "" >> deployment_report.txt
echo "=== Docker Version ===" >> deployment_report.txt
docker --version >> deployment_report.txt
docker compose version >> deployment_report.txt
echo "" >> deployment_report.txt
echo "=== Containers Status ===" >> deployment_report.txt
docker compose -f docker-compose.prod.yml ps >> deployment_report.txt
echo "" >> deployment_report.txt
echo "=== Access URLs ===" >> deployment_report.txt
echo "Frontend: http://$(curl -4 -s ifconfig.me):8080" >> deployment_report.txt
echo "Backend API: http://$(curl -4 -s ifconfig.me):3010/api" >> deployment_report.txt
echo "GraphQL: http://$(curl -4 -s ifconfig.me):3010/graphql" >> deployment_report.txt
echo "" >> deployment_report.txt

# –ü–æ–∫–∞–∂–∏ –æ—Ç—á–µ—Ç
cat deployment_report.txt
```

#### 8.2. –°–æ—Ö—Ä–∞–Ω–∏ –≤–∞–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é

```bash
# –°–æ—Ö—Ä–∞–Ω–∏ –ø–∞—Ä–æ–ª—å –ë–î
echo "Database password: $(grep DB_PASSWORD .env | cut -d'=' -f2)" >> deployment_report.txt

# –ü–æ–∫–∞–∂–∏ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
cat deployment_report.txt
```

---

## üÜò –†–ï–®–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú

### –ü—Ä–æ–±–ª–µ–º–∞ 1: "Cannot connect to Docker daemon"

**–ü—Ä–∏—á–∏–Ω–∞:** Docker –Ω–µ –∑–∞–ø—É—â–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ó–∞–ø—É—Å—Ç–∏ Docker
systemctl start docker

# –ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å
systemctl status docker

# –í–∫–ª—é—á–∏ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
systemctl enable docker
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ 2: "Port 3010 is already in use"

**–ü—Ä–∏—á–∏–Ω–∞:** –ü–æ—Ä—Ç —É–∂–µ –∑–∞–Ω—è—Ç –¥—Ä—É–≥–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –£–∑–Ω–∞–π —á—Ç–æ –∑–∞–Ω–∏–º–∞–µ—Ç –ø–æ—Ä—Ç
lsof -i :3010

# –û—Å—Ç–∞–Ω–æ–≤–∏ –ø—Ä–æ—Ü–µ—Å—Å (–∑–∞–º–µ–Ω–∏ PID –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π)
kill -9 PID

# –ò–ª–∏ –∏–∑–º–µ–Ω–∏ –ø–æ—Ä—Ç –≤ .env –∏ docker-compose.prod.yml
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ 3: Backend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞:** –û—à–∏–±–∫–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü–æ—Å–º–æ—Ç—Ä–∏ –ª–æ–≥–∏
docker compose -f docker-compose.prod.yml logs backend

# –ü—Ä–æ–≤–µ—Ä—å .env —Ñ–∞–π–ª
cat .env | grep DATABASE_URL

# –ü—Ä–æ–≤–µ—Ä—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
docker compose -f docker-compose.prod.yml exec postgres pg_isready -U plgames
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ 4: "Out of memory" –∏–ª–∏ –º–µ–¥–ª–µ–Ω–Ω–∞—è —Å–±–æ—Ä–∫–∞

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–∞–º—è—Ç–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å –ø–∞–º—è—Ç—å
free -h

# –°–æ–∑–¥–∞–π swap —Ñ–∞–π–ª (–µ—Å–ª–∏ –Ω–µ—Ç)
fallocate -l 4G /swapfile
chmod 600 /swapfile
mkswap /swapfile
swapon /swapfile
echo '/swapfile none swap sw 0 0' | tee -a /etc/fstab
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ 5: "Authentication failed" –ø—Ä–∏ git clone

**–ü—Ä–∏—á–∏–Ω–∞:** –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∏–ª–∏ –Ω—É–∂–µ–Ω —Ç–æ–∫–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü–æ–ø—Ä–æ—Å–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è GitHub —Ç–æ–∫–µ–Ω
# –ó–∞—Ç–µ–º –∏—Å–ø–æ–ª—å–∑—É–π:
git clone https://TOKEN@github.com/Leonid1095/boards_plane.git
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ 6: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –≥–æ—Ç–æ–≤–∞

**–ü—Ä–∏—á–∏–Ω–∞:** Postgres –µ—â–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü–æ–¥–æ–∂–¥–∏ 30-60 —Å–µ–∫—É–Ω–¥
sleep 60

# –ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å postgres
docker compose -f docker-compose.prod.yml exec postgres pg_isready

# –ï—Å–ª–∏ Ready - –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ backend
docker compose -f docker-compose.prod.yml restart backend
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ 7: Frontend –Ω–µ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è

**–û—à–∏–±–∫–∞:** Cannot locate specified Dockerfile –∏–ª–∏ —Å–±–æ—Ä–∫–∞ –ø–∞–¥–∞–µ—Ç –ø—Ä–∏ yarn build

**–ü—Ä–∏—á–∏–Ω–∞:** Frontend —Ç—Ä–µ–±—É–µ—Ç –ø–æ–ª–Ω–æ–π —Å–±–æ—Ä–∫–∏ monorepo, –æ—á–µ–Ω—å –¥–æ–ª–≥–∏–π –ø—Ä–æ—Ü–µ—Å—Å (20-40 –º–∏–Ω—É—Ç)

**–†–µ—à–µ–Ω–∏–µ 1 - –¢–æ–ª—å–∫–æ backend (–±—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ):**
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ
docker compose -f docker-compose.prod.yml down

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ backend + –ë–î (–±–µ–∑ frontend)
docker compose -f docker-compose.prod.yml up -d backend postgres redis

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ backend –∑–∞–ø—É—Å—Ç–∏–ª—Å—è
docker compose -f docker-compose.prod.yml logs backend | grep "successfully started"
```

**–†–µ—à–µ–Ω–∏–µ 2 - –°–æ–±—Ä–∞—Ç—å frontend –æ—Ç–¥–µ–ª—å–Ω–æ:**
```bash
cd /home/plgames/boards_plane/plgames

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (10-20 –º–∏–Ω—É—Ç)
yarn install

# –°–æ–±—Ä–∞—Ç—å frontend (10-20 –º–∏–Ω—É—Ç)
yarn workspace @affine/web build

# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –¥–ª—è —Ä–∞–∑–¥–∞—á–∏ –∏–∑:
# plgames/packages/frontend/apps/web/dist/
```

**–†–µ—à–µ–Ω–∏–µ 3 - –î–æ–∂–¥–∞—Ç—å—Å—è –ø–æ–ª–Ω–æ–π —Å–±–æ—Ä–∫–∏ Docker:**
```bash
# –£–≤–µ–ª–∏—á–∏—Ç—å timeout –∏ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞
docker compose -f docker-compose.prod.yml build --no-cache frontend

# –≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å 30-60 –º–∏–Ω—É—Ç!
# –¢—Ä–µ–±—É–µ—Ç—Å—è –º–∏–Ω–∏–º—É–º 4GB RAM –∏ 10GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
```

**–í–ê–ñ–ù–û –¥–ª—è AI:** –ï—Å–ª–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–µ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è, —ç—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ! Backend —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å GraphQL API. –°–æ–æ–±—â–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —á—Ç–æ backend —Ä–∞–±–æ—Ç–∞–µ—Ç, –∞ frontend –º–æ–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å –ø–æ–∑–∂–µ.

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢ –î–õ–Ø AI

–ü–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ —Å–∫–∞–∑–∞—Ç—å "–≥–æ—Ç–æ–≤–æ", –ø—Ä–æ–≤–µ—Ä—å:

- [ ] Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω –≤ `/home/plgames/boards_plane`
- [ ] –§–∞–π–ª `.env` —Å–æ–∑–¥–∞–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–ø–∞—Ä–æ–ª—å –ë–î, IP —Å–µ—Ä–≤–µ—Ä–∞)
- [ ] Docker —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (`docker --version` —Ä–∞–±–æ—Ç–∞–µ—Ç)
- [ ] Docker Compose —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (`docker compose version` —Ä–∞–±–æ—Ç–∞–µ—Ç)
- [ ] –í—Å–µ 4 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤ —Å—Ç–∞—Ç—É—Å–µ "Up" (`docker compose -f docker-compose.prod.yml ps`)
- [ ] Backend –æ—Ç–≤–µ—á–∞–µ—Ç (`curl http://localhost:3010/graphql`)
- [ ] Frontend –æ—Ç–≤–µ—á–∞–µ—Ç (`curl http://localhost:8080`)
- [ ] –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ
- [ ] URL –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω –∏ –ø–æ–∫–∞–∑–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- [ ] –û—Ç—á–µ—Ç `deployment_report.txt` —Å–æ–∑–¥–∞–Ω

---

## üìã –ö–û–ú–ê–ù–î–´ –î–õ–Ø –£–ü–†–ê–í–õ–ï–ù–ò–Ø

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:
```bash
# –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker compose -f docker-compose.prod.yml logs -f

# –¢–æ–ª—å–∫–æ backend
docker compose -f docker-compose.prod.yml logs -f backend

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫
docker compose -f docker-compose.prod.yml logs --tail=100
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫:
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker compose -f docker-compose.prod.yml restart

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ backend
docker compose -f docker-compose.prod.yml restart backend
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞:
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker compose -f docker-compose.prod.yml stop

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker compose -f docker-compose.prod.yml down
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ:
```bash
# –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ –∏–∑ GitHub
git pull origin main

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
docker compose -f docker-compose.prod.yml up -d --build
```

---

## üéØ –ò–¢–û–ì–û–í–û–ï –°–û–û–ë–©–ï–ù–ò–ï –î–õ–Ø –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –æ—Ç–ø—Ä–∞–≤—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:

```
‚úÖ PLGames —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ!

üìç –î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é:
   Frontend: http://[IP_–°–ï–†–í–ï–†–ê]:8080
   Backend API: http://[IP_–°–ï–†–í–ï–†–ê]:3010/api
   GraphQL Playground: http://[IP_–°–ï–†–í–ï–†–ê]:3010/graphql

üîê –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
   –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: plgames
   –ü–∞—Ä–æ–ª—å –ë–î: [–ü–ê–†–û–õ–¨_–ò–ó_ENV]

üìä –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:
   [–í–´–í–û–î docker compose ps]

üìù –û—Ç—á–µ—Ç –æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤:
   /home/plgames/boards_plane/deployment_report.txt

üõ† –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
   –õ–æ–≥–∏: docker compose -f docker-compose.prod.yml logs -f
   –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫: docker compose -f docker-compose.prod.yml restart
   –û—Å—Ç–∞–Ω–æ–≤–∫–∞: docker compose -f docker-compose.prod.yml stop

‚ùó –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
   1. –ù–∞—Å—Ç—Ä–æ–π firewall (UFW)
   2. –ù–∞—Å—Ç—Ä–æ–π HTTPS (Let's Encrypt)
   3. –ù–∞—Å—Ç—Ä–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ë–î
```

---

## üìû –ï–°–õ–ò –ß–¢–û-–¢–û –ü–û–®–õ–û –ù–ï –¢–ê–ö

1. **–°–æ–±–µ—Ä–∏ –ª–æ–≥–∏:**
   ```bash
   docker compose -f docker-compose.prod.yml logs > full_logs.txt
   ```

2. **–°–æ–±–µ—Ä–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–∏—Å—Ç–µ–º–µ:**
   ```bash
   echo "=== System Info ===" > debug_info.txt
   uname -a >> debug_info.txt
   free -h >> debug_info.txt
   df -h >> debug_info.txt
   docker --version >> debug_info.txt
   docker compose ps >> debug_info.txt
   ```

3. **–û—Ç–ø—Ä–∞–≤—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:**
   - –°–æ–¥–µ—Ä–∂–∏–º–æ–µ `full_logs.txt`
   - –°–æ–¥–µ—Ä–∂–∏–º–æ–µ `debug_info.txt`
   - –û–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –∫–∞–∫–æ–º —à–∞–≥–µ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞

---

**–£–¥–∞—á–∏ —Å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ–º! üöÄ**
